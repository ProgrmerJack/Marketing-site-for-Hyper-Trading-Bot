import { Section } from "@hyper/ui";
import { PageHeader } from "@/components/page-header";

const pipeline = [
  {
    title: "Data acquisition",
    details: [
      "Multi-venue market data normalised under 120 ms.",
      "On-chain telemetry, funding, sentiment, and risk-factor feeds.",
      "Automatic schema validation, replay-on-fail, and backfill checks.",
    ],
    slo: "SLO: Fresh tick <= 150 ms, missing feed alert <= 3s.",
  },
  {
    title: "Signal engine",
    details: [
      "Model ensembles with guard-railed feature store and drift monitoring.",
      "Policy-based evaluation: no signal bypasses risk gating.",
      "Continuous evaluation uses net performance metrics, never gross headline numbers.",
    ],
    slo: "SLO: Signal latency <= 60 ms, drift detection < 3 mins.",
  },
  {
    title: "Risk controller",
    details: [
      "Position sizing, leverage caps, correlation checks, and drawdown envelope.",
      "Kill-switch monitors venue stability, balance anomalies, and circuit breakers.",
      "Signed decision log emitted for every accept/deny event.",
    ],
    slo: "SLO: Decision log write < 15 ms, fail-closed default.",
  },
  {
    title: "Execution layer",
    details: [
      "Smart order routing with exchange health weighting and throttle limits.",
      "Slippage monitor compares expected vs realised; breaches halt strategy.",
      "Post-trade reconciliation with venue receipts and simulated testing ledger.",
    ],
    slo: "SLO: Venue submit < 120 ms, fill confirmation < 1.5 s.",
  },
];

const safetyRails = [
  "No custodial control: the system never takes possession of user funds.",
  "No discretionary overrides: manual trades cannot bypass risk controller.",
  "Real-time health monitor: 200+ checks on latency, balances, API health, and error spikes.",
  "Fail closed: if any critical dependency degrades, the engine pauses and surfaces the incident publicly.",
];

export default function HowItWorksPage() {
  return (
    <div className="space-y-0">
      <PageHeader
        eyebrow="System architecture"
        title="From data ingest to execution--every stage observable and accountable"
        description="We publish the execution pipeline so you know where the guardrails live. Each stage is logged, replayable, and measured against explicit SLOs."
      />

      <Section
        id="pipeline"
        title="The four-stage pipeline"
        description="Every request flows through deterministic checks. When the risk controller says no, it sticks."
      >
        <div className="grid gap-8 md:grid-cols-2">
          {pipeline.map((stage) => (
            <article
              key={stage.title}
              className="flex flex-col gap-4 rounded-3xl border border-[color:var(--color-line-muted)]/50 bg-white/80 p-6 dark:bg-black/50"
            >
              <h2 className="font-display text-2xl text-[color:var(--color-surface-900)] dark:text-white">
                {stage.title}
              </h2>
              <ul className="space-y-2 text-sm text-black/70 dark:text-white/70">
                {stage.details.map((detail) => (
                  <li key={detail}>- {detail}</li>
                ))}
              </ul>
              <span className="text-xs font-semibold uppercase tracking-[0.18em] text-[color:var(--color-accent-primary)]">
                {stage.slo}
              </span>
            </article>
          ))}
        </div>
      </Section>

      <Section
        id="safety"
        eyebrow="Safety rails"
        title="Built to fail safely and visibly"
        description="We would rather pause trading than bluff continuity. No silent degradations."
      >
        <div className="grid gap-6 md:grid-cols-2">
          {safetyRails.map((rail) => (
            <article
              key={rail}
              className="rounded-3xl border border-[color:var(--color-line-muted)]/50 bg-white/80 p-5 text-sm text-black/70 dark:bg-black/50 dark:text-white/70"
            >
              {rail}
            </article>
          ))}
        </div>
      </Section>
    </div>
  );
}


